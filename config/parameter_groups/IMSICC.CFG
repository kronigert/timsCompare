<?xml version="1.0" encoding="utf-8"?>

<!-- IMS_ICC.CFG -->

<INIT>

<!-- group definition -->
    <GROUPS>
        <GROUP ID="32">
            <DISPLAYNAME>TIMS ICC</DISPLAYNAME>
        </GROUP>
    </GROUPS>

<!-- variable definitions -->
    <VARIABLES>

        <LONG GROUP="32">
            <PERMANENTNAME>IMSICC_Mode</PERMANENTNAME>
            <DISPLAYNAME>ICC Mode</DISPLAYNAME>
            <use_in_application>
                <tiger>Interface</tiger>
            </use_in_application>
            <ACCESS>rw</ACCESS>
            <USE>method</USE>
            <DEPENDENCY>T</DEPENDENCY>
            <DEFAULT>0</DEFAULT>
            <VALUEFORMAT>%d</VALUEFORMAT>
            <VALUETEXT>0:Off;1:ICC;2:ICC2</VALUETEXT>
            <LIMITS>0;2</LIMITS>
        </LONG>

        <!-- Denotes the threshold for the ICC algorithm. It is somehow related to an intensity, but for the exact meaning look at the algorithm in the ICC implementation -->
        <DOUBLE GROUP="32">
            <PERMANENTNAME>IMSICC_Target</PERMANENTNAME>
            <DISPLAYNAME>ICC Target</DISPLAYNAME>
            <use_in_application>
                <tiger>Interface</tiger>
            </use_in_application>
            <ACCESS>rw</ACCESS>
            <USE>method</USE>
            <DEPENDENCY>T</DEPENDENCY>
            <DEFAULT>2000000</DEFAULT>
            <VALUEFORMAT>%.0f</VALUEFORMAT>
            <LIMITS>10000;1000000000</LIMITS>
            <UNIT>cts.</UNIT>
        </DOUBLE>

        <!-- Minimum accumulation time that ICC can use (inclusive) -->
        <LONG GROUP="32">
            <PERMANENTNAME>IMSICC_MinAccuTime</PERMANENTNAME>
            <DISPLAYNAME>ICC minimum accumulation time</DISPLAYNAME>
            <USE>volatile</USE>
            <DEFAULT>1000</DEFAULT>
            <VALUEFORMAT>%d</VALUEFORMAT>
            <LIMITS>10;1000000</LIMITS>
            <UNIT>µs</UNIT>
        </LONG>

        <!-- Maximum accumulation time that ICC can use (inclusive) -->
        <LONG GROUP="32">
            <PERMANENTNAME>IMSICC_MaxAccuTime</PERMANENTNAME>
            <DISPLAYNAME>ICC maximum accumulation time</DISPLAYNAME>
            <USE>volatile</USE>
            <DEFAULT>500000</DEFAULT>
            <VALUEFORMAT>%d</VALUEFORMAT>
            <LIMITS>10;1000000</LIMITS>
            <UNIT>µs</UNIT>
        </LONG>

        <!-- Maximum age for past intensities that are going to be used for the prediction of the next sample -->
        <LONG GROUP="32">
            <PERMANENTNAME>IMSICC_MaxSampleAgeForPrediction</PERMANENTNAME>
            <DISPLAYNAME>ICC maximum age of samples for prediction</DISPLAYNAME>
            <USE>volatile</USE>
            <DEFAULT>60000000</DEFAULT>
            <VALUEFORMAT>%d</VALUEFORMAT>
            <LIMITS>10;1000000000</LIMITS>
            <UNIT>µs</UNIT>
        </LONG>

        <!-- Maximum timespan for future intensities since the last MS acquisition -->
        <LONG GROUP="32">
            <PERMANENTNAME>IMSICC_MaxFutureForPrediction</PERMANENTNAME>
            <DISPLAYNAME>ICC maximum timespan into the future for prediction</DISPLAYNAME>
            <USE>volatile</USE>
            <DEFAULT>10000000</DEFAULT>
            <VALUEFORMAT>%d</VALUEFORMAT>
            <LIMITS>0;1000000000000</LIMITS>
            <UNIT>µs</UNIT>
        </LONG>

        <!-- Maximum relative error that is allowed for the prediction. If the prediction doesn't match the acquired intensity, the prediction is reset -->
        <DOUBLE GROUP="32">
            <PERMANENTNAME>IMSICC_MaxRelativeErrorForPrediction</PERMANENTNAME>
            <DISPLAYNAME>ICC maximum relative error for prediction</DISPLAYNAME>
            <USE>volatile</USE>
            <DEFAULT>1.5</DEFAULT>
            <VALUEFORMAT>%.2f</VALUEFORMAT>
            <LIMITS>1;1000</LIMITS>
        </DOUBLE>

        <!-- Minimum number of samples that are kept in the buffer for prediction -->
        <LONG GROUP="32">
            <PERMANENTNAME>IMSICC_MinNumberSamplesForPrediction</PERMANENTNAME>
            <DISPLAYNAME>ICC minimum number of samples for prediction</DISPLAYNAME>
            <USE>volatile</USE>
            <DEFAULT>2</DEFAULT>
            <VALUEFORMAT>%d</VALUEFORMAT>
        </LONG>
        
        <DOUBLE GROUP="32">
            <PERMANENTNAME>IMSICC_ICC2_MaxTicTargetPercent</PERMANENTNAME>
            <DISPLAYNAME>ICC 2.0 maximum TIC target</DISPLAYNAME>
            <use_in_application>
                <tiger>Interface</tiger>
            </use_in_application>
            <ACCESS>rw</ACCESS>
            <USE>method</USE>
            <DEPENDENCY>T</DEPENDENCY>
            <DEFAULT>90.0</DEFAULT>
            <VALUEFORMAT>%.1f</VALUEFORMAT>
            <LIMITS>0.0;100.0</LIMITS>
            <UNIT>%</UNIT>
        </DOUBLE>
        
        <DOUBLE GROUP="32">
            <PERMANENTNAME>IMSICC_ICC2_MinAccuTime</PERMANENTNAME>
            <DISPLAYNAME>ICC 2.0 minimum accumulation time</DISPLAYNAME>
            <use_in_application>
                <tiger>Interface</tiger>
            </use_in_application>
            <ACCESS>rw</ACCESS>
            <USE>method</USE>
            <DEPENDENCY>T</DEPENDENCY>
            <DEFAULT>2.0</DEFAULT>
            <VALUEFORMAT>%.1f</VALUEFORMAT>
            <LIMITS>1.0;</LIMITS>
            <UNIT>ms</UNIT>
        </DOUBLE>
        
        <LONG GROUP="32">
            <PERMANENTNAME>IMSICC_ICC2_SmoothingFactor</PERMANENTNAME>
            <DISPLAYNAME>ICC 2.0 smoothing factor</DISPLAYNAME>
            <use_in_application>
                <tiger>Interface</tiger>
            </use_in_application>
            <ACCESS>rw</ACCESS>
            <USE>method</USE>
            <DEPENDENCY>T</DEPENDENCY>
            <DEFAULT>1</DEFAULT>
            <VALUEFORMAT>%d</VALUEFORMAT>
            <LIMITS>1;</LIMITS>
        </LONG>
        
        <DOUBLE GROUP="32">
            <PERMANENTNAME>IMSICC_ICC2_ReferenceTicCapacity</PERMANENTNAME>
            <DISPLAYNAME>ICC 2.0 reference TIC capacity</DISPLAYNAME>
            <use_in_application>
                <tiger>Interface</tiger>
            </use_in_application>
            <ACCESS>rw</ACCESS>
            <USE>method</USE>
            <DEPENDENCY>T</DEPENDENCY>
            <DEFAULT>40000000.0</DEFAULT>
            <VALUEFORMAT>%.0f</VALUEFORMAT>
            <LIMITS>0.0;</LIMITS>
        </DOUBLE>
    
        <LONG GROUP="32">
            <PERMANENTNAME>IMSICC_ICC2_Calibration</PERMANENTNAME>
            <DISPLAYNAME>ICC2 calibration active</DISPLAYNAME>
            <TYPE>bool</TYPE>
            <use_in_application>
                <tiger>Interface</tiger>
            </use_in_application>
            <ACCESS>rw</ACCESS>
            <USE>volatile</USE>
            <DEFAULT>0</DEFAULT>
            <VALUEFORMAT>%d</VALUEFORMAT>
            <VALUETEXT>0:Off;1:On</VALUETEXT>
            <LIMITS>0;1</LIMITS>
        </LONG>
    
    </VARIABLES>
</INIT>